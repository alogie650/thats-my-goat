<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>That's My GOAT // Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        body { background-color: #000; color: #fff; font-family: 'VT323', monospace; font-size: 20px; margin: 0; text-transform: uppercase; letter-spacing: 0.1em; }
        .solid-box { background: #000; border: 2px solid #333; position: relative; }
        .dynamic-neon { color: #39FF14; text-shadow: 0 0 8px rgba(57, 255, 20, 0.4); }
        .gold-glow { color: #FFD700; text-shadow: 0 0 12px rgba(255, 215, 0, 0.6); }
        #player-search { caret-color: transparent; background: transparent; letter-spacing: 0.15em; }
        #fake-cursor { position: absolute; width: 12px; height: 24px; background-color: #39FF14; animation: blink 0.6s step-end infinite; pointer-events: none; top: 50%; transform: translateY(-50%); left: 16px; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        .suggestion-item { border-bottom: 1px solid #111; cursor: pointer; transition: 0.2s; }
        .suggestion-item:hover { background: #39FF14; color: #000; }
        .analysis-text { line-height: 1.6; color: #ccc; }
        .stat-tag { font-size: 0.7rem; border: 1px solid #333; padding: 2px 6px; margin-right: 5px; color: #39FF14; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-12" onload="initTerminal()">

    <div class="max-w-5xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-6xl md:text-8xl font-normal mb-2 tracking-tighter">THAT'S MY <span class="dynamic-neon">GOAT</span></h1>
            <p class="opacity-40 text-sm tracking-[0.5em]">V6.0 // GLOBAL_REGISTRY_ACTIVE</p>
        </header>

        <div class="relative max-w-2xl mx-auto mb-10">
            <div class="solid-box p-1 flex items-center border-white/20 focus-within:border-[#39FF14]">
                <div class="relative flex-1 flex items-center h-[60px]">
                    <input id="player-search" type="text" autocomplete="off" autofocus placeholder="INITIATE SEARCH..."
                           class="w-full p-4 bg-transparent text-white outline-none font-bold text-2xl uppercase"
                           oninput="handleInput(this)" onkeydown="if(event.key === 'Enter') performGlobalSearch()">
                    <div id="fake-cursor"></div>
                </div>
            </div>
            <div id="suggestions" class="hidden absolute left-0 right-0 mt-1 solid-box z-50 bg-black max-h-[400px] overflow-y-auto border-[#39FF14]"></div>
        </div>

        <div id="result-area" class="hidden">
            <div class="solid-box p-6 md:p-10 border-l-8 border-[#39FF14]">
                <div class="flex flex-col md:flex-row justify-between items-start mb-8 gap-4">
                    <div>
                        <h2 id="p-name" class="text-5xl md:text-7xl font-bold dynamic-neon leading-none mb-2"></h2>
                        <p id="p-team" class="text-2xl text-white opacity-70 tracking-widest"></p>
                    </div>
                    <div class="text-right">
                        <span class="block text-xs opacity-40 mb-1">CHAMPIONSHIPS</span>
                        <div id="p-rings" class="text-3xl gold-glow"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 bg-white/5 p-4 border border-white/10">
                    <div><span class="block text-[10px] opacity-40">HT/WT</span><span id="p-phys" class="text-lg font-bold"></span></div>
                    <div><span class="block text-[10px] opacity-40">POSITION</span><span id="p-pos" class="text-lg font-bold"></span></div>
                    <div><span class="block text-[10px] opacity-40">EXP</span><span id="p-exp" class="text-lg font-bold"></span></div>
                    <div><span class="block text-[10px] opacity-40">STATUS</span><span class="text-lg font-bold text-[#39FF14]">LEGENDARY</span></div>
                </div>

                <div class="mb-8">
                    <h3 class="text-[#39FF14] text-2xl font-bold mb-4 flex items-center">
                        <span class="mr-3">â–¶</span> THE GOAT CASE
                    </h3>
                    <div id="p-case" class="analysis-text text-lg italic md:text-xl"></div>
                </div>

                <div class="border-t border-white/10 pt-6">
                    <span class="block text-[10px] opacity-40 mb-3">STATISTICAL_SIGNATURE</span>
                    <div id="p-sig" class="flex flex-wrap gap-2"></div>
                </div>
            </div>
        </div>
    </div>

    <span id="text-measurer" style="visibility: hidden; position: absolute; white-space: pre; font-family: 'VT323'; font-size: 24px; letter-spacing: 0.15em;"></span>

    <script>
        const API_KEY = 'd5bf99e2-09d5-44fd-8e09-d00c9e679c6f';
        let debounceTimer;

        // HIGH-DENSITY ANALYSIS DATABASE
        const LOCAL_DB = [
            { 
                first_name: "LeBron", last_name: "James", team: { full_name: "LA Lakers", abbreviation: "LAL" }, height: "6-9", weight: "250", position: "F", rings: 4, rookie: 2003, 
                blurb: "THE ULTIMATE BASKETBALL ARCHETYPE. LEBRON'S CASE RESTS ON THE UNPRECEDENTED INTERSECTION OF PEAK DOMINANCE AND SUPERNATURAL LONGEVITY. HE IS THE ONLY ENTITY IN HISTORY TO RECORD 40K POINTS, 11K REBOUNDS, AND 11K ASSISTS. WHILE OTHERS HAD HIGHER PEAKS (JORDAN) OR MORE RINGS (RUSSELL), NO ONE HAS CONTROLLED THE GEOMETRY OF THE COURT FOR TWO DECADES ACROSS THREE DIFFERENT ERAS. HE IS THE SYSTEM ITSELF.",
                sigs: ["40K SCORING CLUB", "ALL-TIME VORP LEADER", "8 CONSECUTIVE FINALS", "PER: 27.1"]
            },
            { 
                first_name: "Stephen", last_name: "Curry", team: { full_name: "Golden State", abbreviation: "GSW" }, height: "6-2", weight: "185", position: "G", rings: 4, rookie: 2009, 
                blurb: "THE GREATEST OFFENSIVE RADIUS IN HUMAN HISTORY. CURRY DIDN'T JUST PLAY THE GAME; HE BROKE ITS MATHEMATICAL FOUNDATION. HIS 'GRAVITY' REWRITES DEFENSIVE COORDINATES, FORCING OPPONENTS TO GUARD THE LOGO, THEREBY CREATING 4-ON-3 ADVANTAGES FOR TEAMMATES WITHOUT EVEN TOUCHING THE BALL. HE IS THE FIRST UNANIMOUS MVP FOR A REASON: HE RENDERED TRADITIONAL BASKETBALL OBSOLETE.",
                sigs: ["4K+ 3PM", "91% FT ALL-TIME", "UNANIMOUS MVP", "OFF-BALL ELITE"]
            },
            { 
                first_name: "Nikola", last_name: "Jokic", team: { full_name: "Denver Nuggets", abbreviation: "DEN" }, height: "6-11", weight: "284", position: "C", rings: 1, rookie: 2014, 
                blurb: "THE MOST EFFICIENT OFFENSIVE ENGINE EVER ASSEMBLED. JOKIC HAS REDEFINED THE CENTER POSITION AS A POINT-GUARD/POST-GOD HYBRID. PER THE ADVANCED METRICS (BPM, PER, WS/48), JOKIC OPERATES AT A STATISTICAL STRATOSPHERE PREVIOUSLY ONLY OCCUPIED BY PEAK JORDAN AND WILT. HE IS THE FIRST PLAYER TO LEAD A POSTSEASON IN TOTAL POINTS, REBOUNDS, AND ASSISTS, PROVING HE IS THE APEX OF MODERN CEREBRAL BASKETBALL.",
                sigs: ["TRIPLE-DOUBLE MACHINE", "HIGHEST SINGLE-SEASON PER", "PASSING SAVANT", "PER: 28.1"]
            },
            {
                first_name: "Kevin", last_name: "Durant", team: { full_name: "Phoenix Suns", abbreviation: "PHX" }, height: "6-11", weight: "240", position: "F", rings: 2, rookie: 2007,
                blurb: "THE MOST UNGUARDABLE SCORING PROFILE IN THE ANNALS OF THE NBA. DURANT REPRESENTS THE FINAL EVOLUTION OF THE SCORERâ€”A SEVEN-FOOTER WITH THE HANDLE OF A POINT GUARD AND A MID-RANGE JUMPER THAT IS STATISTICAL AUTOMATION. HIS EFFICIENCY AT VOLUME IS UNMATCHED IN THE MODERN ERA. HE IS THE ULTIMATE 'PLUG-AND-PLAY' GOAT; REGARDLESS OF THE SYSTEM, HE IS THE INESCAPABLE SOLUTION.",
                sigs: ["4X SCORING CHAMP", "50-40-90 CLUB", "2X FINALS MVP", "ELITE RIM PROTECTOR"]
            }
        ];

        function initTerminal() { document.getElementById('player-search').focus(); updateCursor(); }

        function updateCursor() {
            const input = document.getElementById('player-search');
            const measurer = document.getElementById('text-measurer');
            measurer.textContent = input.value || "";
            document.getElementById('fake-cursor').style.left = (16 + measurer.offsetWidth) + "px";
        }

        function handleInput(el) { 
            updateCursor(); 
            clearTimeout(debounceTimer);
            const val = el.value.trim().toLowerCase();
            if (val.length < 2) { document.getElementById('suggestions').classList.add('hidden'); return; }

            const localMatches = LOCAL_DB.filter(p => (p.first_name + " " + p.last_name).toLowerCase().includes(val));
            if (localMatches.length > 0) renderSuggestions(localMatches);
            else debounceTimer = setTimeout(() => fetchPlayers(el.value), 400);
        }

        async function fetchPlayers(query) {
            const dropdown = document.getElementById('suggestions');
            dropdown.innerHTML = '<div class="p-4 opacity-50 text-xs animate-pulse">QUERYING NBA_CENTRAL_CLOUD...</div>';
            dropdown.classList.remove('hidden');
            try {
                const res = await fetch(`https://api.balldontlie.io/v1/players?search=${encodeURIComponent(query)}`, { headers: { 'Authorization': API_KEY } });
                const json = await res.json();
                renderSuggestions(json.data || []);
            } catch (err) { dropdown.innerHTML = '<div class="p-4 text-red-500">API_ERROR: RATE_LIMIT_EXCEEDED</div>'; }
        }

        function renderSuggestions(players) {
            const dropdown = document.getElementById('suggestions');
            dropdown.innerHTML = '';
            if (players.length === 0) { dropdown.classList.add('hidden'); return; }
            players.slice(0, 8).forEach(p => {
                const div = document.createElement('div');
                div.className = 'suggestion-item p-4 font-bold';
                div.innerHTML = `${p.first_name} ${p.last_name} <span class="opacity-30 ml-2">// ${p.team.abbreviation}</span>`;
                div.onclick = () => selectPlayer(p);
                dropdown.appendChild(div);
            });
            dropdown.classList.remove('hidden');
        }

        async function typeWriter(text, elementId, speed = 15) {
            const el = document.getElementById(elementId);
            el.innerHTML = "";
            for (let i = 0; i < text.length; i++) {
                el.innerHTML += text.charAt(i);
                await new Promise(r => setTimeout(r, speed));
            }
        }

        async function selectPlayer(p) {
            document.getElementById('suggestions').classList.add('hidden');
            document.getElementById('player-search').value = "";
            updateCursor();
            document.getElementById('result-area').classList.remove('hidden');
            
            // Format Basic Data
            const rings = p.rings || 0;
            const ringText = rings > 0 ? "ðŸ†".repeat(rings) : "0 (PENDING)";
            const rookie = p.rookie || 2021;
            const position = p.position.length > 3 ? p.position : (p.position === "G" ? "GUARD" : p.position === "F" ? "FORWARD" : "CENTER");

            // Build Signature Tags
            const sigContainer = document.getElementById('p-sig');
            sigContainer.innerHTML = '';
            const sigs = p.sigs || ["ALL-STAR CALIBER", "CORE ROTATION", "POSTSEASON THREAT"];
            sigs.forEach(s => {
                const span = document.createElement('span');
                span.className = 'stat-tag';
                span.innerText = s;
                sigContainer.appendChild(span);
            });

            await typeWriter(`${p.first_name} ${p.last_name}`, 'p-name', 15);
            await typeWriter(p.team.full_name, 'p-team', 10);
            
            document.getElementById('p-rings').innerHTML = ringText;
            document.getElementById('p-phys').innerText = `${p.height || "N/A"} / ${p.weight ? p.weight + ' LBS' : "N/A"}`;
            document.getElementById('p-pos').innerText = position;
            document.getElementById('p-exp').innerText = `${2026 - rookie} SEASONS`;
            
            const caseText = p.blurb || `THE CASE FOR ${p.last_name} IS BUILT ON RAW IMPACT AND TACTICAL FLEXIBILITY. WHILE THE MEDIA FOCUSES ON THE STARS, ${p.last_name} REPRESENTS THE FOUNDATIONAL EXCELLENCE THAT SUSTAINS A WINNING CULTURE. IN AN ERA OF CONSTANT TURNOVER, HIS CONSISTENCY IS THE TRUE MEASURE OF GREATNESS.`;
            await typeWriter(caseText, 'p-case', 5);
        }
    </script>
</body>
</html>
