<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>That's My GOAT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        :root { --team-color: #39FF14; }
        
        body { 
            background-color: #000; color: #fff; font-family: 'VT323', monospace; 
            font-size: 15px; margin: 0; text-transform: uppercase; letter-spacing: 0.1em;
            overflow-x: hidden;
        }

        .solid-box { background: #000; border: 2px solid #333; position: relative; }
        .dynamic-neon { color: var(--team-color); transition: all 0.4s ease; }
        .gold-glow { color: #FFD700; }
        
        /* Continuous Square Drawing Loader */
        #loader {
            position: absolute; width: 14px; height: 14px;
            border: 2px solid var(--team-color);
            right: 15px; top: 50%; transform: translateY(-50%);
            display: none;
        }
        .loading #loader { 
            display: block; 
            animation: square-draw 0.8s infinite linear; 
        }
        
        @keyframes square-draw {
            0% { transform: translateY(-50%) rotate(0deg); border-color: var(--team-color); }
            50% { border-color: #fff; }
            100% { transform: translateY(-50%) rotate(360deg); border-color: var(--team-color); }
        }

        #player-search { 
            caret-color: transparent; background: transparent; 
            letter-spacing: 0.15em; padding-left: 28px !important; 
        }
        
        #fake-cursor { 
            position: absolute; width: 10px; height: 20px; 
            background-color: var(--team-color); animation: blink 0.6s step-end infinite; 
            pointer-events: none; top: 50%; transform: translateY(-50%); left: 14px; z-index: 10;
        }
        
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        
        .stat-label { font-size: 1.05rem; opacity: 0.6; display: block; margin-bottom: 3px; }
        .stat-value { font-size: 1.5rem; font-weight: bold; display: block; }
        .analysis-text { line-height: 1.3; color: #eee; white-space: pre-wrap; }
        
        .stat-tag { 
            font-size: 1.35rem; border: 2px solid var(--team-color); 
            padding: 9px 21px; margin-right: 12px; margin-bottom: 12px; 
            color: var(--team-color); display: inline-block; font-weight: bold; 
        }

        .suggestion-item { border-bottom: 1px solid #111; cursor: pointer; transition: 0.2s; font-size: 1.1rem; }
        .suggestion-item:hover { background: var(--team-color); color: #000; }
    </style>
</head>
<body class="min-h-screen p-3 md:p-9" onclick="document.getElementById('player-search').focus()">

    <div class="max-w-5xl mx-auto relative z-10">
        <header class="text-center mb-8">
            <h1 class="text-7xl md:text-9xl font-normal tracking-tighter">THAT'S MY <span class="dynamic-neon">GOAT</span></h1>
        </header>

        <div class="relative max-w-xl mx-auto mb-8">
            <div id="search-container" class="solid-box p-1 flex items-center border-white/20 focus-within:border-[var(--team-color)]">
                <div class="relative flex-1 flex items-center h-[45px]">
                    <input id="player-search" type="text" autocomplete="off" autofocus placeholder="SEARCH PLAYER..."
                           class="w-full bg-transparent text-white outline-none font-bold text-xl uppercase">
                    <div id="fake-cursor"></div>
                    <div id="loader"></div>
                </div>
            </div>
            <div id="suggestions" class="hidden absolute left-0 right-0 mt-1 solid-box z-50 bg-black max-h-[300px] overflow-y-auto"></div>
        </div>

        <div id="result-area" class="hidden">
            <div id="player-card" class="solid-box p-6 md:p-9 border-l-[9px] border-[var(--team-color)] transition-all duration-500">
                <div class="flex flex-col md:flex-row justify-between items-start mb-8 gap-5">
                    <div>
                        <h2 id="p-name" class="text-4xl md:text-6xl font-bold dynamic-neon leading-none mb-1"></h2>
                        <p id="p-team" class="text-2xl text-white opacity-70 tracking-widest"></p>
                    </div>
                    <div class="text-left md:text-right min-w-[210px]">
                        <div class="mb-4">
                            <span class="block text-lg opacity-80 mb-1 font-bold">CHAMPIONSHIPS</span>
                            <div id="p-rings" class="text-4xl gold-glow tracking-widest"></div>
                        </div>
                        <div>
                            <span class="block text-lg opacity-80 mb-1 font-bold">LEAGUE MVPS</span>
                            <div id="p-mvps" class="text-4xl dynamic-neon tracking-widest"></div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-9 bg-white/5 p-6 border border-white/10">
                    <div><span class="stat-label">HEIGHT / WEIGHT</span><span id="p-phys" class="stat-value"></span></div>
                    <div><span class="stat-label">POSITION</span><span id="p-pos" class="stat-value"></span></div>
                    <div><span class="stat-label">ACTIVE SINCE</span><span id="p-exp" class="stat-value"></span></div>
                </div>

                <div class="mb-10">
                    <h3 class="dynamic-neon text-4xl font-bold mb-6 flex items-center">
                        <span class="mr-3 text-3xl">‚ñ∂</span> THE GOAT CASE
                    </h3>
                    <div id="p-case" class="analysis-text text-2xl md:text-3xl italic border-l-3 border-white/20 pl-6"></div>
                </div>

                <div class="border-t border-white/10 pt-9">
                    <span class="block text-3xl dynamic-neon font-bold mb-8">QUICK HITS</span>
                    <div id="p-sig" class="flex flex-wrap"></div>
                </div>
            </div>
        </div>
    </div>

    <span id="text-measurer" style="visibility: hidden; position: absolute; white-space: pre; font-family: 'VT323'; font-size: 20px; letter-spacing: 0.15em;"></span>

    <script>
        const TEAM_COLORS = {
            'LAL': '#FDB927', 'GSW': '#FFFF00', 'PHX': '#E56020', 'DEN': '#FEC524', 
            'MIL': '#00471B', 'BOS': '#007A33', 'CHI': '#CE1141', 'SAS': '#C4CED4', 'OKC': '#EF3340'
        };

        const LOCAL_DB = [
            { first_name: "Stephen", last_name: "Curry", team: { full_name: "Golden State Warriors", abbreviation: "GSW" }, height: "6-2", weight: "185", position: "Guard", rings: 4, mvps: 2, rookie: 2009, blurb: "THE GREATEST OFFENSIVE RADIUS IN HUMAN HISTORY. CURRY HAS REDEFINED BASKETBALL PHYSICS THROUGH THE CONCEPT OF OFFENSIVE GRAVITY.\n\nWITH THE ADDITION OF THE 2024 OLYMPIC GOLD 'GOLDEN DAGGER' PERFORMANCE, HE HAS SECURED EVERY MAJOR BASKETBALL ACCOLADE.", sigs: ["4K+ 3PM", "91% FT ALL-TIME", "UNANIMOUS MVP", "OLYMPIC GOLD 2024"] },
            { first_name: "Brandin", last_name: "Podziemski", team: { full_name: "Golden State Warriors", abbreviation: "GSW" }, height: "6-5", weight: "204", position: "Guard", rings: 0, mvps: 0, rookie: 2023, blurb: "THE SWISS ARMY KNIFE OF THE NEW ERA. PODZIEMSKI‚ÄôS VALUE IS MEASURED IN SYSTEMIC IMPACT AND BASKETBALL IQ RATHER THAN RAW ATHLETICISM.\n\nLEADING THE LEAGUE IN CHARGES DRAWN AS A ROOKIE, HE HAS SHOWN AN ELITE ABILITY TO READ THE GAME THREE STEPS AHEAD. HE IS THE EMBODIMENT OF THE MODERN WARRIORS' DNA.", sigs: ["CHARGE KING", "TRIPLE-DOUBLE THREAT", "ALL-ROOKIE 1ST TEAM"] },
            { first_name: "LeBron", last_name: "James", team: { full_name: "Los Angeles Lakers", abbreviation: "LAL" }, height: "6-9", weight: "250", position: "Forward", rings: 4, mvps: 4, rookie: 2003, blurb: "THE ULTIMATE BASKETBALL ARCHETYPE. LEBRON'S CASE RESTS ON THE UNPRECEDENTED INTERSECTION OF PEAK DOMINANCE AND SUPERNATURAL LONGEVITY.", sigs: ["40K SCORING CLUB", "8 CONSECUTIVE FINALS", "ALL-TIME VORP LEADER"] },
            { first_name: "Victor", last_name: "Wembanyama", team: { full_name: "San Antonio Spurs", abbreviation: "SAS" }, height: "7-4", weight: "210", position: "Center/Forward", rings: 0, mvps: 0, rookie: 2023, blurb: "THE ALIEN. A PHYSICAL ANOMALY THAT COMBINES CENTER SIZE WITH GUARD SKILLS. WEMBY IS NOT JUST THE FUTURE; HE IS A REWRITE OF THE SPORT'S LIMITS.", sigs: ["BLOCK LEADER", "ROOKIE OF THE YEAR", "DPOY FINALIST"] }
        ];

        const input = document.getElementById('player-search');
        const suggestionsDiv = document.getElementById('suggestions');

        // FORCE FOCUS
        input.addEventListener('blur', () => {
            setTimeout(() => input.focus(), 10);
        });

        // HANDLE INPUT & AUTO-SEARCH ON ENTER
        input.addEventListener('input', (e) => {
            updateCursor();
            const val = e.target.value.trim().toLowerCase();
            if (val.length < 2) { 
                suggestionsDiv.classList.add('hidden'); 
                return; 
            }
            const matches = LOCAL_DB.filter(p => (p.first_name + " " + p.last_name).toLowerCase().includes(val));
            renderSuggestions(matches);
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const val = input.value.trim().toLowerCase();
                const exactMatch = LOCAL_DB.find(p => (p.first_name + " " + p.last_name).toLowerCase() === val);
                const partialMatch = LOCAL_DB.find(p => (p.first_name + " " + p.last_name).toLowerCase().includes(val));
                
                if (exactMatch || partialMatch) {
                    selectPlayer(exactMatch || partialMatch);
                }
            }
        });

        function renderSuggestions(players) {
            suggestionsDiv.innerHTML = '';
            if (players.length === 0) { suggestionsDiv.classList.add('hidden'); return; }
            players.slice(0, 8).forEach(p => {
                const div = document.createElement('div');
                div.className = 'suggestion-item p-3 font-bold';
                div.innerHTML = `${p.first_name} ${p.last_name} <span class="opacity-30 ml-2">// ${p.team.abbreviation}</span>`;
                div.onclick = () => selectPlayer(p);
                suggestionsDiv.appendChild(div);
            });
            suggestionsDiv.classList.remove('hidden');
        }

        async function selectPlayer(p) {
            suggestionsDiv.classList.add('hidden');
            document.getElementById('search-container').classList.add('loading');
            
            // Artificial delay to show the square loader
            await new Promise(r => setTimeout(r, 600));
            
            document.getElementById('search-container').classList.remove('loading');
            const color = TEAM_COLORS[p.team?.abbreviation] || '#39FF14';
            document.documentElement.style.setProperty('--team-color', color);
            input.value = "";
            updateCursor();
            
            document.getElementById('result-area').classList.remove('hidden');
            
            const sigContainer = document.getElementById('p-sig');
            sigContainer.innerHTML = '';
            p.sigs.forEach(s => {
                const span = document.createElement('span');
                span.className = 'stat-tag';
                span.innerText = s;
                sigContainer.appendChild(span);
            });

            await typeWriter(`${p.first_name} ${p.last_name}`, 'p-name', 12);
            await typeWriter(p.team.full_name, 'p-team', 10);
            document.getElementById('p-rings').innerHTML = "üèÜ".repeat(p.rings) || "NONE";
            document.getElementById('p-mvps').innerHTML = "‚≠ê".repeat(p.mvps) || "NONE";
            document.getElementById('p-phys').innerText = `${p.height} / ${p.weight} LBS`;
            document.getElementById('p-pos').innerText = p.position;
            document.getElementById('p-exp').innerText = `${p.rookie} (${2026 - p.rookie} SEASONS)`;
            await typeWriter(p.blurb, 'p-case', 4);
        }

        function updateCursor() {
            const measurer = document.getElementById('text-measurer');
            const cursor = document.getElementById('fake-cursor');
            measurer.textContent = input.value;
            cursor.style.left = (14 + measurer.offsetWidth) + "px";
        }

        async function typeWriter(text, elementId, speed = 8) {
            const el = document.getElementById(elementId);
            el.innerHTML = "";
            for (let i = 0; i < text.length; i++) {
                el.innerHTML += text.charAt(i);
                await new Promise(r => setTimeout(r, speed));
            }
        }
    </script>
</body>
</html>
